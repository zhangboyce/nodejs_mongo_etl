#!/usr/bin/env node
'use strict';

const project = 'project';
const feedsource = 'feedsource';

let arg_option = {
    demand: 'true',
    type:'string',
    default: project,
    alias:'data',
    describe: 'the data you will import.',
    choices: [feedsource, project]
};
let argv = require('yargs')
    .option('d', arg_option)
    .usage('Usage: run [options]')
    .example('import2es -d project', `importing projects to es.`)
    .help('h')
    .alias('h', 'help')
    .argv;

let data = argv.data;

let shell = require('shelljs/global');
echo(`run --data ${data}`);

let etl = require('../index');

if (data === feedsource) {
    etl.ImportFeedSource2ES();
}

if (data === project) {
    etl.ImportProject2ES();
}